
from suffix_tree import Tree

fname = 't17.txt'

# with open(fname, 'r') as f:
#     t = f.read().strip()
#     print(len(t))
#     tree = Tree({'A': t})

#     print('hello')

#     for c, path in sorted(tree.maximal_repeats()):
#         if len(path) < 20: continue
#         # s = ''.join(map(str, path.S))[:-1]
#         # print(path.S)
#         s = "".join(map(str, path.S[path.start : path.end]))
#         print(s)
#         print('path length', len(path))


start = '1330013032002201232211220132121302013020103201332012122132101322212220133401230213322132221031112130030300132013300023221300202200133201324213322121220232013200133021324000302122221320013320132201032013300023221230013211133401320013020121221221003220133201212013300132201220203300130200334000322100400031112322003201220012320121001332213030032200130213022032101211012130032100304010300121320034013302122001330213212122400222212342133201230210310121021303002240121301320013212133001220013302132100234002212133201324212132133020230013'
start = list(map(int, start))
repeat = '320122020303213200130221304012222103121330012222133201212013202003001330013320103020030213200123220034012301123000222013300123021030212342130001320013340123020222013220122201211113200130401032010300113021222013320130321330012122132001330212301121200222002020130201212013202001100334002002130301030003320132201330212322003121330013342121021230213220130221320102302003221213013040132221322013240130201212012101033001222013320133001222213320133001334013030123200030003302122401230010300123001320012240133221321213300123201232013212013020210012302133000213013342133420220013300133021330013202132000332013300030321330013320130301324213020133401230112340132201330213020122201332213202122001212213020122401304212340003421330202130133201330012211133401230003220133001334013322122401330013030103401220202202122001230213220022401302012302123001322013300132201332013320122221222013302130421301211220133201332013242130421212013001030300222003320122100334013222133401302013320130421320002220023001302213320132221332200320133221304012202132200234012320133001213012300123001320012342132101230113300121200232013300133020230013242132221330013220133001230013302003421222013340132101302013030113020222012120132201230113020133001121202302133420322212300133001303003300023001324213222133001332002020122201300113040130321332213322122220030202210033401321212120011201213001300132221220012340123401232013342133021322013202133001330013010133021334012120132121232012320133200220013340121201332213211033421212012211132000330012200121200322013220022001230213322130301230002300133401322213020122221322001220133201303013300130021330002340133201332002300123400010013320130021324012340122220330002022103201232002302130401224213030101010332213222133201230212'
repeat = list(map(int, repeat))


s_n = len(start)
s_h = sum(start)

r_n = len(repeat)
r_h = sum(repeat)

r = 1000000000000
h = 0

r -= s_n
h += s_h

q, rem = divmod(r, r_n)

r -= q * r_n
h += q * r_h

x = r

for i in range(x):
    r -= 1
    h += repeat[i]

print('Part 2:', h)